## 容错虚拟机

## 概述

我们实现了一个商业企业级系统，用于提供容错虚拟机，其基础是通过另一台服务器上的备份虚拟机复制主虚拟机（VM）的执行。我们在VMware vSphere 4.0中设计了一个完整的系统，该系统易于使用，在普通服务器上运行，并且通常会将实际应用程序的性能降低不到10%。此外，对于一些实际应用，保持主、辅虚拟机以锁步方式执行所需的数据带宽小于20 Mbit/s，这允许在更长的距离上实现容错。一个易于使用、商业化的系统，在故障后自动恢复冗余，除了复制的VM执行之外，还需要许多其他组件。我们设计并实现了这些额外的组件，并解决了在支持运行企业应用程序的vm时遇到的许多实际问题。在本文中，我们描述了我们的基本设计，讨论了可选的设计选择和一些实现细节，并为微基准测试和实际应用程序提供了性能结果。

